pluginManagement {
    repositories {
        maven {
            def file = file(rootDir.relativePath(file(settings['conclave.repo'])))
            if (file == null)
                throw new Exception("Make sure the 'conclave.repo' setting exists in gradle.properties, or your \$HOME/gradle.properties file. See the Conclave tutorial on https://docs.conclave.net")
            else if (!file.isDirectory())
                throw new Exception("The $file directory doesn't seem to exist; it should contain the SDK 'repo' subdirectory. See the Conclave tutorial on https://docs.conclave.net")
            url = file
        }
        // Add standard repositories back.
        gradlePluginPortal()
        jcenter()
        mavenCentral()
    }
}

include 'enclave'
include 'host'