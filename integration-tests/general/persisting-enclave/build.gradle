plugins {
    id 'org.jetbrains.kotlin.jvm'
    id 'com.r3.conclave.enclave'
}

dependencies {
    implementation project(":general:common-enclave")
}

/**
 * This enclave is used to test the various persistence features and so they should not be turned off.
 */
conclave {
    productID = 1
    revocationLevel = 0
    enablePersistentMap = true
    persistentFileSystemSize = "32m"

    kds {
        kdsEnclaveConstraint = "S:4924CA3A9C8241A3C0AA1A24A407AA86401D2B79FA9FF84932DA798A942166D4 PROD:1 SEC:INSECURE"
        persistenceKeySpec {
            masterKeyType = "debug"
            policyConstraint {
                constraint = "SEC:INSECURE"
                useOwnCodeSignerAndProductID = true
            }
        }
    }
}
